
@{
    ViewData["Title"] = "FirstAjsx";
}

<h1>FirstAjsx</h1>

<button class="btn btn-primary" id="button1">Click</button>
<div id="div1" class="alert-info mt-3 p-3 w-50"></div>


@section Scripts
{
    <script>
        const btn = document.querySelector('#button1');
        const theDiv = document.querySelector('#div1');
        btn.addEventListener('click', () => {

            //步驟一建立Ajax物件
        var xhr = new XMLHttpRequest();

            //步驟三接收伺服器回傳的結果
            xhr.addEventListener('load', () => {
                
                //接收資料
                const data = xhr.responseText;
                
                //顯示資料
                theDiv.innerHTML = `<h2>${data}</h2>`
            })
              //步驟二發出要求
            //open("Http Method(GET、POST、PUT、DELETE)", "伺服器端的程式", 同步或非同步(預設))
            xhr.open("Get", "/Api/Index");
            xhr.send();
        });
    </script>
    }